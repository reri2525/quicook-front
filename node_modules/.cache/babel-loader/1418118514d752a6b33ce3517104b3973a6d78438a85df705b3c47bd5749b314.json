{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/app/src/components/UpdateEmail.tsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useForm } from 'react-hook-form';\nimport { useParams } from 'react-router-dom';\nimport { url } from \"../config\";\nimport '../ScssFile/PasswordResetForm.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateEmail() {\n  _s();\n  var _errors$password, _errors$password2, _errors$passwordConfi, _errors$passwordConfi2, _errors$passwordConfi3;\n  const {\n    register,\n    watch,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    criteriaMode: 'all'\n  });\n  const password = watch('password', '');\n  const passwordConfirmation = watch('passwordConfirmation', '');\n  const {\n    id\n  } = useParams();\n  const {\n    newEmail\n  } = useParams();\n  const onSubmit = () => {\n    axios.put(`${url}/update_emails/1`, {\n      user: {\n        email: newEmail,\n        id: id\n      }\n    }, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data.status === true) {\n        window.location.pathname = \"/\";\n      }\n    }).catch(error => {\n      console.log();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reset_form\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: errors.password ? 'input_errors' : 'input',\n        type: \"password\",\n        ...register('password', {\n          required: true,\n          minLength: 6\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }, this), ((_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type) === 'required' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: \"\\u203B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u5165\\u529B\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 19\n      }, this), ((_errors$password2 = errors.password) === null || _errors$password2 === void 0 ? void 0 : _errors$password2.type) === 'minLength' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: \"\\u203B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u77ED\\u3059\\u304E\\u307E\\u3059!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u78BA\\u8A8D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: errors.passwordConfirmation ? 'input_errors' : 'input',\n        type: \"password\",\n        ...register('passwordConfirmation', {\n          required: true,\n          minLength: 6,\n          validate: value => value === watch('password')\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }, this), ((_errors$passwordConfi = errors.passwordConfirmation) === null || _errors$passwordConfi === void 0 ? void 0 : _errors$passwordConfi.type) === 'required' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: \"\\u203B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u5165\\u529B\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this), ((_errors$passwordConfi2 = errors.passwordConfirmation) === null || _errors$passwordConfi2 === void 0 ? void 0 : _errors$passwordConfi2.type) === 'minLength' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: \"\\u203B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u77ED\\u3059\\u304E\\u307E\\u3059!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }, this), ((_errors$passwordConfi3 = errors.passwordConfirmation) === null || _errors$passwordConfi3 === void 0 ? void 0 : _errors$passwordConfi3.type) === 'validate' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"errors\",\n        children: \"\\u203B\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u4E00\\u81F4\\u3057\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        type: \"button\",\n        onClick: handleSubmit(onSubmit),\n        children: \"\\u9001\\u4FE1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 99\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"password-warn\",\n        children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u306F\\u82F1\\u6587\\u5B57\\u307E\\u305F\\u306F\\u6570\\u5B57\\u30676\\u6841\\u4EE5\\u4E0A\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 77\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateEmail, \"Ch9kypP/G6Ufa/WY5SH+b4KynBo=\", false, function () {\n  return [useForm, useParams, useParams];\n});\n_c = UpdateEmail;\nexport default UpdateEmail;\nvar _c;\n$RefreshReg$(_c, \"UpdateEmail\");","map":{"version":3,"names":["axios","useForm","useParams","url","jsxDEV","_jsxDEV","UpdateEmail","_s","_errors$password","_errors$password2","_errors$passwordConfi","_errors$passwordConfi2","_errors$passwordConfi3","register","watch","handleSubmit","formState","errors","criteriaMode","password","passwordConfirmation","id","newEmail","onSubmit","put","user","email","withCredentials","then","response","data","status","window","location","pathname","catch","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","required","minLength","validate","value","onClick","_c","$RefreshReg$"],"sources":["/usr/src/app/app/src/components/UpdateEmail.tsx"],"sourcesContent":["import axios from 'axios'\nimport { useForm } from 'react-hook-form';\nimport { useParams } from 'react-router-dom';\nimport { url } from \"../config\";\nimport '../ScssFile/PasswordResetForm.scss'\nfunction UpdateEmail() {\n  const {\n    register,\n    watch,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    criteriaMode: 'all',\n  });\n  const password = watch('password', '')\n  const passwordConfirmation = watch('passwordConfirmation', '')\n  const { id } = useParams<{id: string}>();\n  const { newEmail } = useParams<{newEmail: string}>();\n  const onSubmit = () => {\n    axios.put(`${url}/update_emails/1`,{user: {email: newEmail, id: id}},{ withCredentials: true }\n    ).then(response => {\n        if (response.data.status === true) {\n          window.location.pathname = \"/\";\n        } \n    }).catch(error => {\n       console.log()\n    })\n  }\n  return (\n    <div className='reset_form'>\n        <form className=\"form\">\n             <h1>入力してください</h1>\n                <label>パスワード</label><br></br>\n                <input className={errors.password ? 'input_errors' : 'input'}\n                    type=\"password\"\n                    {...register('password', { required: true, minLength: 6})}                     \n                /><br></br>\n                {errors.password?.type === 'required' && (\n                  <div className='errors'>※パスワードが入力されていません</div>\n                )}\n                {errors.password?.type === 'minLength' && (\n                  <div className='errors'>※パスワードが短すぎます!</div>\n                )}\n                <label>パスワード確認</label><br></br>\n                <input className={errors.passwordConfirmation ? 'input_errors' : 'input'}\n                    type=\"password\"\n                    {...register('passwordConfirmation', { \n                      required: true, \n                      minLength: 6,\n                      validate: (value) =>\n                      value === watch('password'),\n                    })}                     \n                /><br></br>\n                {errors.passwordConfirmation?.type === 'required' && (\n                  <div className='errors'>※パスワードが入力されていません</div>\n                )}\n                {errors.passwordConfirmation?.type === 'minLength' && (\n                  <div className='errors'>※パスワードが短すぎます!</div>\n                )}\n                {errors.passwordConfirmation?.type === 'validate' && (\n                  <div className='errors'>※パスワードが一致しません</div>\n                )}\n                <button className='btn' type=\"button\" onClick={handleSubmit(onSubmit)}>送信</button><br></br>\n                <a className='password-warn'>パスワードは英文字または数字で6桁以上入力してください</a><br></br>\n        </form>\n    </div>\n  )\n}\n\nexport default UpdateEmail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}